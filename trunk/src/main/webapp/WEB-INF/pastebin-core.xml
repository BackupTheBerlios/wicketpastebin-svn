<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>

    <bean id="pasteEntryDAO" class="com.mysticcoders.pastebin.dao.PasteEntryDAOHibernate">
        <property name="sessionFactory">
            <ref bean="sessionFactory" />
        </property>
    </bean>

    <bean id="imageEntryDAO" class="com.mysticcoders.pastebin.dao.ImageEntryDAOHibernate">
        <property name="sessionFactory">
            <ref bean="sessionFactory" />
        </property>
    </bean>

    <bean id="pasteService" class="com.mysticcoders.pastebin.core.PasteServiceImpl">
        <property name="pasteEntryDAO">
            <ref bean="pasteEntryDAO"/>
        </property>
    </bean>

    <bean id="imageService" class="com.mysticcoders.pastebin.core.ImageServiceImpl">
		<property name="imageDir" value="${imageDir}" />
        <property name="imageEntryDAO">
            <ref bean="imageEntryDAO"/>
        </property>
		<property name="thumbnailSize" value="128" />
    </bean>

    <bean id="includedContentService" class="com.mysticcoders.pastebin.core.IncludedContentServiceImpl">
		<property name="headerContentUrl" value="${header.content.url}" />
    </bean>

    <bean id="botInterface" class="com.mysticcoders.pastebin.util.BotInterface">
        <property name="url" value="${bot.boturl}" />
        <property name="channels" value="${bot.channels}" />
        <property name="user" value="${bot.user}" />
        <property name="password" value="${bot.password}" />
        <property name="botName" value="${bot.botname}" />
        <property name="message" value="${bot.message}" />
    </bean>


    <bean id="codeHighlighter" class="com.mysticcoders.pastebin.web.util.CodeHighlighter">
        <property name="highlightEngines">
            <map>
                <entry key="java"><bean class="com.mysticcoders.pastebin.web.util.JavaHighlighterEngine" /></entry>
                <entry key="xml"><bean class="com.mysticcoders.pastebin.web.util.XmlHighlighterEngine" /></entry>
                <entry key="xhtml"><bean class="com.mysticcoders.pastebin.web.util.XmlHighlighterEngine" /></entry>
                <entry key="html"><bean class="com.mysticcoders.pastebin.web.util.XmlHighlighterEngine" /></entry>
                <entry key="c/c++"><bean class="com.mysticcoders.pastebin.web.util.CppHighlighterEngine" /></entry>
                <entry key="groovy"><bean class="com.mysticcoders.pastebin.web.util.GroovyHighlighterEngine" /></entry>
            </map>
        </property>

    </bean>


    <!-- Search Foo -->
    <bean id="indexService" class="com.mysticcoders.pastebin.search.IndexServiceImpl">
        <constructor-arg value="${index.path}" />
        <constructor-arg><bean class="org.apache.lucene.analysis.standard.StandardAnalyzer" /></constructor-arg>

        <property name="pasteService" ref="pasteService" />
    </bean>

    <bean id="searchService" class="com.mysticcoders.pastebin.search.SearchServiceImpl">
        <constructor-arg value="${index.path}" />
        <constructor-arg><bean class="org.apache.lucene.analysis.standard.StandardAnalyzer" /></constructor-arg>
    </bean>


</beans>

